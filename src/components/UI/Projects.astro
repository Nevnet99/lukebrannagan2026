---
import { Github, Layers, ArrowUpRight, Signal } from "@lucide/astro";

import Card from "../DS/Card.astro";
import Heading from "../DS/Heading.astro";
import Text from "../DS/Text.astro";

// --- DATA CONFIGURATION ---
const projects = [
  {
    title: "Trading Terminal",
    description:
      "High-performance financial dashboard built for real-time data visualization. Uses HTMX for partial swaps and Clojure for immutable state management.",
    tech: ["HTMX", "Clojure", "WebSockets", "Tailwind"],
    liveUrl: "#",
    repoUrl: "#",
    status: "online", // 'online' | 'building' | 'offline'
  },
  {
    title: "Linear Clone",
    description:
      "A pixel-perfect recreation of the Linear issue tracker. Focuses on optimistic UI updates, keyboard shortcuts, and instant interactions.",
    tech: ["HTMX", "Clojure", "Postgres", "Alpine.js"],
    liveUrl: "#",
    repoUrl: "#",
    status: "building",
  },
  {
    title: "Biff Clone",
    description:
      "An architectural exploration of the Biff framework. Demonstrates functional backend patterns and simplified data layers.",
    tech: ["Clojure", "XTDB", "HTMX"],
    liveUrl: "#",
    repoUrl: "#",
    status: "offline",
  },
];

// Helper to get status color
const getStatusColor = (status: string) => {
  switch (status) {
    case "online":
      return "bg-green-400 shadow-[0_0_8px_rgba(74,222,128,0.6)]";
    case "building":
      return "bg-yellow-400 animate-pulse";
    case "offline":
      return "bg-red-400";
    default:
      return "bg-gray-400";
  }
};
---

<section class="max-w-5xl mx-auto px-6 py-20 font-mono">
  <div class="flex items-center gap-3 mb-12 border-b border-text/10 pb-4">
    <Layers size={20} class="text-text/60" />
    <Heading renderAs="h2">
      Deployed Units
      <span
        class="text-text/40 text-lg font-normal ml-4 hidden sm:inline-block"
      >
        / Side_Projects
      </span>
    </Heading>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    {
      projects.map((project) => (
        <Card interactive padding="md">
          <Heading renderAs="h3">{project.title}</Heading>
          <Text>{project.description}</Text>

          <div slot="footer" class="flex justify-between">
            <a href="#">View Source</a>
            <ArrowUpRight />
          </div>
        </Card>
      ))
    }

    <div
      class="border border-dashed border-text/20 bg-background/30 p-6 flex flex-col items-center justify-center text-center opacity-50 hover:opacity-100 transition-opacity"
    >
      <div
        class="w-12 h-12 border border-text/20 rounded-full flex items-center justify-center mb-4"
      >
        <span class="text-2xl">+</span>
      </div>
      <h3 class="font-bold text-sm">Next Project</h3>
      <p class="text-xs text-text/50 mt-1">Architecture in progress...</p>
    </div>
  </div>
</section>
